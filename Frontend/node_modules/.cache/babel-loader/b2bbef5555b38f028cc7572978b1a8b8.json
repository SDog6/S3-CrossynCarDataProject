{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hristo\\\\Desktop\\\\New folder\\\\crossyn_project\\\\Frontend\\\\src\\\\pages\\\\Login.js\";\nimport React, { Component } from 'react';\nimport Get from \"../api/Get\";\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.checkUser = hndl => {\n      hndl.preventDefault(); // const emails = this.state.email;\n      // const passwordd = this.state.password\n      // const user = { emails,passwordd };\n      // vars = JSON.stringify(user);\n\n      axios.post(\"http://localhost:8080/user/login\", {\n        username: this.state.email,\n        password: this.state.password\n      }).then(response => {\n        console.log(response);\n        const {\n          token,\n          userId\n        } = response.data;\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"userId\", userId);\n        window.localStorage.clear();\n        this.props.history.push(\"/\");\n      }, error => {\n        console.log(error);\n      });\n    };\n\n    this.changeEmailHandler = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.changePasswordHandler = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: ''\n    };\n    this.changeEmailHandler = this.changeEmailHandler.bind(this);\n    this.changePasswordHandler = this.changePasswordHandler.bind(this);\n    this.checkUser = this.checkUser.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card col-md-6 offset-md-3 offset-md-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-center\",\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form=group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \" Email : \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    placeholder: \"Email\",\n                    name: \"email\",\n                    className: \"form-control\",\n                    value: this.state.email,\n                    onChange: this.changeEmailHandler\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form=group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \" Password : \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    placeholder: \"Password\",\n                    name: \"password\",\n                    className: \"form-control\",\n                    value: this.state.password,\n                    onChange: this.changePasswordHandler\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-success\",\n                  onClick: this.checkUser,\n                  children: \"SignIn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 46\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Hristo/Desktop/New folder/crossyn_project/Frontend/src/pages/Login.js"],"names":["React","Component","Get","axios","Redirect","Login","constructor","props","checkUser","hndl","preventDefault","post","username","state","email","password","then","response","console","log","token","userId","data","localStorage","setItem","window","clear","history","push","error","changeEmailHandler","event","setState","target","value","changePasswordHandler","bind","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Get from \"../api/Get\";\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router';\r\n\r\n\r\nclass Login extends Component{\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            email: '',\r\n            password: ''\r\n        }\r\n        this.changeEmailHandler = this.changeEmailHandler.bind(this);\r\n        this.changePasswordHandler = this.changePasswordHandler.bind(this);\r\n        this.checkUser = this.checkUser.bind(this);\r\n    }\r\n\r\n\r\n\r\n    checkUser = (hndl) => {\r\n        hndl.preventDefault();\r\n        // const emails = this.state.email;\r\n        // const passwordd = this.state.password\r\n        // const user = { emails,passwordd };\r\n        // vars = JSON.stringify(user);\r\n        axios.post(\"http://localhost:8080/user/login\", {\r\n            username:this.state.email,\r\n            password:this.state.password\r\n        })\r\n            .then(response => { \r\n                console.log(response);\r\n                const { token, userId } = response.data;\r\n                localStorage.setItem(\"token\", token);\r\n                localStorage.setItem(\"userId\", userId);\r\n                window.localStorage.clear();\r\n                this.props.history.push(\"/\");\r\n\r\n            \r\n            },\r\n            (error) => {\r\n                console.log(error);\r\n              });\r\n    }\r\n    \r\n\r\n    changeEmailHandler = (event) => {\r\n        this.setState({ email: event.target.value });\r\n    }\r\n    changePasswordHandler = (event) => {\r\n        this.setState({ password: event.target.value });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"card col-md-6 offset-md-3 offset-md-3\">\r\n                            <h3 className=\"text-center\">Sign In</h3>\r\n                            <div className=\"card-body\">\r\n                                <form>\r\n                                    <div className=\"form=group\">\r\n                                        <label> Email : </label>\r\n                                        <input placeholder=\"Email\" name=\"email\" className=\"form-control\"\r\n                                            value={this.state.email} onChange={this.changeEmailHandler} />\r\n                                    </div>\r\n                                    <div className=\"form=group\">\r\n                                        <label> Password : </label>\r\n                                        <input placeholder=\"Password\" name=\"password\" className=\"form-control\"\r\n                                            value={this.state.password} onChange={this.changePasswordHandler} />\r\n                                    </div>\r\n                                  \r\n                                    <br></br><button className=\"btn btn-success\" onClick={this.checkUser}>SignIn</button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Login"]},"metadata":{},"sourceType":"module"}